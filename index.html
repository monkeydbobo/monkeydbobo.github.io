<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>NewMoon</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-tooltip.js"></script>

    <style>
        .result {
            font: bold 150px/1.0 arial,sans-serif;
            text-shadow: 0px 0px 20px #001;
            filter: dropshadow(color=#001, offx=0, offy=0);
            text-align: center;
            vertical-align:center;
            margin-top:2cm;
        }
        button.info {
            width: 300px;
            height: 60px;
            font-size: 25px ;
            margin: 4em 0 1em;
        }
        .t-center {
            text-align: center;
        }
        .details {
            font: bold 50px/1.0 arial,sans-serif;
            text-align: center;
            padding-top:2cm;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="result";>Start</div>
         <div class="details"></div>
        <div class="t-center">
            <button class="btn btn-primary btn-large info" id="make"
                    rel="tooltip" title="不停点击按钮或者按住任意按键触发，停下来达到1.5之后秒自动揭晓，并冻结5秒"
                    >生成随机数</button>
        </div>
        <div class="t-center">
            Powered by Monkeydbobo
        </div>
    </div>

</body>
<script>
var new_moon = ["Full moon rising",
                    "Dissatisfaction",
                    "Great Distrust", 
                    "End of the Harvest",
                    "Backfire",
                    "Influences",
                    "Spiritualism",
                    "Executioner",
                    "Luncheon for Seniors",
                    "The Little Rascal",
                    "Nightmare",
                    "Enthusiasm",
                    "Punishment",
                    "The Specter",
                    "Gone hunting...",
                    "Double agent",
                    "Black Monday",
                    "Not Me - Nor Wolf",
                    "Burial",
                    "Spiritualism",
                    "Somnambulism",
                    "Heads or Tails",
                    "Spiritualism",
                    "Touch of Death",
                    "Radiant Sunday",
                    "Spiritualism",
                    "Saint Philippe",
                    "Miracle",
                    "Good Manners",
                    "April Fools'",
                    "Woodland Gathering",
                    "Spiritualism",
                    "Pact with the Devil",
                    "Flood",
                    "Eclipse",
                    "Saturday Evening Ball"];
    var details = ["下一晚，狼人成为先知，狼人依次醒来，每一个狼人都能验一个人。猎人、女巫和先知成为狼人，他们在晚上一起醒来，杀一个人。夜晚结束后，白天开始，一切都恢复正常。",
                    "如果下一个被投票出局的玩家不是狼人，立即再进行一次投票，并且不进行任何讨论。第二次投票将会处死第二名玩家。",
                    "每个玩家在投票时都有2票，投票时可以使用两只手。如果有一名或多名玩家没有得到任何票，则他们出局。这种投票方式代替正常的投票。",
                    "法官可以宣布在接下来的一轮中使用Harvest Festival变体规则，如果不使用这一变体规则，则接下来的一轮就和普通游戏一样。",
                    "下一晚，狼人如果要杀的玩家是一名普通村民，则该玩家不会死，而是成为一名狼人。法官将其身份牌换掉，并暗中让该玩家知道。若该玩家不是普通村民，则他不会死，离他左手边坐得最近的狼人死去。如果狼人无法统一意见，则不杀人。",
                    "下一次投票，按以下规则进行：上一个死去的玩家选择第一个投票的玩家，第一个投票玩家用手指向他投票的对象，接着第一个投票玩家左手边的玩家进行投票，按照此顺序，所有人轮流投票，得票最多者出局。",
                    "这张牌被翻开时，上一个死去玩家左手边的玩家选择一名玩家作为巫师，巫师读出下列问题：先知验出至少一个狼人了吗？是否有一些狼人的位置是连着的？是否有一个狼人戴着至少一件首饰？我是狼人吗？巫师选择其中一个问题，问第一个被狼人杀害的玩家，该玩家只能回答是或否",
                    "翻开这张牌后，先选出一名玩家作为刽子手，此后直到游戏结束，投票被处死的玩家出局后不得公开自己身份，只能把自己的身份牌给刽子手看。刽子手不得公布死者身份。刽子手死去时，要指定其继任者。",
                    "每个玩家说出自己的年龄，年纪较大的一半玩家组成老人团。老人团暂时离开游戏，一直到下一次翻事件卡的时候。在此期间，老人团不参与白天的讨论，不投票。参与游戏的“年轻人”可以不投票给老人团中的玩家。",
                    "游戏中年纪最小的玩家成为淘气鬼，他去另外一个房间，不能参加白天的讨论及投票，并且不能被狼人杀害。下一个早上，天亮时，淘气鬼回到游戏中，并且那一轮投票淘气鬼的一票算作三票。当然，其他玩家可以告诉他在他离开的时候发生了什么。",
                    "翻开这张牌后，所有玩家立即醒来，不进行任何讨论，从上一个死去玩家左手边的玩家开始，每一名玩家必须用手指向一人，得票最多的玩家被处死。这一过程代替普通投票。",
                    "如果下一名被投票处死的玩家是狼人，则进行第二次投票。第二次投票立即进行，不进行任何讨论，处死第二名玩家",
                    "上一名死去玩家指定一名玩家，被指定的玩家将会死去，除非有至少两名证人说他是清白的。被指定玩家如果没死，则证人可以亲一下他的脸颊。如果证人迟迟不出现，则被指定玩家可以恳求亲吻。",
                    "下一个晚上，狼人杀人时，法官小心地碰一下被狼人指定的玩家，该玩家睁眼，此时狼人也睁着眼。该玩家成为狼人，并指定一名原来的狼人，这名狼人立即死去。在天亮前，法官要把这两名玩家（新狼人和死去狼人）的身份牌互换。",
                    "男性玩家到森林里打猎了，一直到下次天亮时才能回来，在此期间，他们不能进行讨论，也不能投票。其余玩家不得对他们投票。如果这些男性玩家中有狼人，则天黑时不能杀人。这些男性玩家也不能在天黑时被狼人杀害。",
                    "在第一个晚上，所有人闭眼，然后游戏中第一个死去的玩家睁眼，指定一名非狼人的玩家，该玩家睁眼，法官秘密指出狼人是谁。这名玩家成为狼人的同盟者。狼人的同盟者在接下来的游戏中仍然扮演原来的角色，不和狼人一起在夜晚睁眼，但他站在狼人一边，若狼人获胜，该玩家也获胜。",
                    "法官可以宣布在接下来的一轮中使用In Any Case,It Surely Isn't Him!变体规则，如果不使用这一变体规则，则接下来的一轮就和普通游戏一样",
                    "这一轮，玩家不得说出“狼”、“我”这两个字，违背者失去投票机会。",
                    "游戏中被狼人杀害的玩家，出局后不得翻开自己的身份牌，不得告诉任何人自己的身份。",
                    "这张牌被翻开时，上一个死去玩家左手边的玩家选择一名玩家作为巫师，巫师读出下列问题：狼人中是不是有一个人穿着牛仔裤？狼人中是不是有一个人穿着黑色衣服？所有的狼人在现实中都是男的吗？所有的狼人在现实中都是女的吗？巫师选择其中一个问题，问第一个被狼人杀害的玩家，该玩家只能回答“是”或“否”。",
                    "先知成为梦游者，每当先知在夜晚验人时，法官会大声说出先知要验的人的真实身份。但是其他玩家闭着眼，不知道谁被验了",
                    "在投票之后，将会有一名玩家出局，此时法官扔一个硬币，若背面向上，则被投票出局的玩家得到释放，继续留在游戏中，他必须要大喊：“哦，非常感谢！”若硬币正面向上，则被投票出局的玩家照常出局，并大喊“哦，我恨你！”。",
                    "这张牌被翻开时，上一个死去玩家左手边的玩家选择一名玩家作为巫师，巫师读出下列问题：狼人中是不是有一个男人？狼人中是不是有一个女人？我手指向的这名玩家的身边两个人之中，是不是有一个狼人？我手指向的这名玩家是不是一个普通村民？巫师选择其中一个问题，问第一个被狼人杀害的玩家，该玩家只能回答“是”或“否”。",
                    "狼人要想杀人，必须要有一个狼人在杀人时碰一下受害者。如果不这样做，狼人就杀不掉人。",
                    "法官可以宣布在接下来的一轮中使用Lycanthropic Fascination变体规则，如果不使用这一变体规则，则接下来的一轮就和普通游戏一样。",
                    "这张牌被翻开时，上一个死去玩家左手边的玩家选择一名玩家作为巫师，巫师读出下列问题：我将要用手指出两名玩家，这两名玩家是不是同一阵营的？是不是至少有一名狼人戴眼镜？女巫是男的吗？村长是一名普通村民吗？巫师选择其中一个问题，问第一个被狼人杀害的玩家，该玩家只能回答“是”或“否”。",
                    "如果已经有一个村长，则老村长失去村长之职，玩家重新选一个新的村长。",
                    "上一个被狼人杀害的玩家并没有真正死去，只是被狼人吓晕过去了。该玩家立即重新回到游戏中，但是成为普通村民。",
                    "每个玩家的发言都要有礼貌，不得打断其余玩家的话。在法官的监督下，各个玩家按照顺序，轮流发言。违背者这一轮失去投票资格",
                    "下列人物的能力进行互换：女巫和先知；猎人和小女孩；Defender和Elder。两名爱人，要互相恨对方，一个必须给另外一个投票。这一轮，如果某一个爱人死了，另一名爱人不会死。",
                    "所有女性玩家都去森林里收集神秘植物去了，女巫必须要去，一直到天黑之前，她们才会回来。因此接下来的讨论和投票，女玩家和女巫不能参与。男玩家不能投票给她们。女巫在天黑之前，会获得额外的一个药剂。",
                    "这张牌被翻开时，上一个死去玩家左手边的玩家选择一名玩家作为巫师，巫师读出下列问题：我是一个普通村民吗？村长是狼人吗？狼人中的一个是不是住在我们玩游戏的地方？狼人中的一个抽烟吗？巫师选择其中一个问题，问第一个被狼人杀害的玩家，该玩家只能回答“是”或“否”。",
                    "投票之后，有一名玩家要被处死，但该玩家和魔鬼作了交易，他不会死去，继续留在游戏中。如果游戏结束时，该玩家所在的阵营赢了，则该玩家下一次游戏不能参加，这是和魔鬼做交易的代价。",
                    "洪水来了，女性玩家躲到教堂里，男性玩家躲到旅馆里。白天没有投票，下一晚，狼人必须要在他们避难的地方杀人。因此，有可能有2名玩家被狼人杀害（教堂里的一个女玩家，旅馆里的一个男玩家）。这张牌只有当剩余玩家数量大于等于6时才可使用。",
                    "所有玩家转过身去，背对桌子，进行讨论，不能看其他玩家。对于违背者，法官要禁止其投票。投票时，所有玩家才能转身回来。",
                    "每个玩家说出自己的年龄，年纪较小的一半玩家组成跳舞团。跳舞团暂时离开游戏，一直到下一次翻事件卡的时候。在此期间，跳舞团不参与白天的讨论，不投票。参与游戏的“老人”可以不投票给跳舞团中的玩家。另外，跳舞团中的狼人不能在天黑时杀人，跳舞团里的玩家也不能在天黑时被狼人杀害。"];
    
    var charset = ["0","1", "2", "3", "4", "5","6","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35"];

    var my_random = 0;
    var max_num = 36;
    var min_num = 1;
    // var charset = ["?", "#", "$", "%", "&"];
    var click_count = 0;
    var timer = 0;
    var resnum;
    function make_new_rand() {
        my_random = Math.floor((Math.random() * max_num));
    }

    $(function(){
        $('.info').tooltip({placement: 'right'});
        $(document).keypress(function(){
            $('#make').click();
        });
        $('#make').click(function(){
            if (timer) {
                clearTimeout(timer);
            }
            if ($(this).hasClass('disabled')) return;
            make_new_rand();
            click_count++;
            // charset[click_count % charset.length]
            $('.result').html(resnum=my_random);
            $('.details').html("");
            timer = setTimeout(showResult2, 1500);
        });

        function showResult() {
            if ($(this).hasClass('disabled')) return;
            $('.result').html(my_random);
            //lock
            $('button').addClass('disabled');
            setTimeout(function() {
                $('button').removeClass('disabled'); //unlock
            }, 5000);
        };
        function showResult2(){
            if ($(this).hasClass('disabled')) return;
            $('.result').html(new_moon[resnum]);
            $('.details').html(details[resnum]);
            //lock
            $('button').addClass('disabled');
            setTimeout(function() {
                $('button').removeClass('disabled'); //unlock
            }, 5000);
        }

    });
</script>
</html>